<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ayasofya Charity</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <script src="https://testnet.sdk.minepi.com/pi-sdk.js"></script>

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:'Poppins',sans-serif;
      background:#f7f3ff;
      color:#222;
      text-align:center;
      padding:20px 16px 40px;
    }
    .card{
      max-width:480px;
      margin:0 auto;
      background:#fff;
      border-radius:16px;
      box-shadow:0 4px 18px rgba(0,0,0,0.08);
      padding:18px 16px 24px;
    }
    .logo{
      width:180px;
      height:auto;
      border-radius:12px;
      margin:8px auto 12px;
      display:block;
    }
    .heart{font-size:26px;margin:4px 0 10px;color:#b83280;}
    h1{font-size:22px;margin-bottom:4px;}
    .subtitle{font-size:13px;color:#555;margin-bottom:10px;}

    .lang-row{
      margin-bottom:8px;
      display:flex;
      justify-content:center;
      gap:6px;
    }
    .lang-btn{
      border-radius:999px;
      border:1px solid #ddd;
      background:#fff;
      padding:3px 10px;
      font-size:11px;
      cursor:pointer;
      color:#555;
    }
    .lang-btn.active{
      background:#4c1d95;
      color:#fff;
      border-color:#4c1d95;
    }

    .section-title{
      font-size:16px;
      font-weight:600;
      margin:16px 0 6px;
    }

    .status-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      font-size:13px;
      margin-bottom:10px;
    }
    .status-row span.icon{font-size:16px;}

    .btn-row{
      display:flex;
      gap:8px;
      justify-content:center;
      margin:8px 0 4px;
      flex-wrap:wrap;
    }
    .amount-btn{
      flex:0 0 auto;
      min-width:64px;
      padding:8px 4px;
      border-radius:18px;
      border:none;
      background:#8b5cf6;
      color:#fff;
      font-size:13px;
      font-weight:500;
      cursor:pointer;
    }
    .amount-btn.active{background:#4c1d95;}
    .donate-btn{
      flex:1;
      min-width:120px;
      padding:8px 4px;
      border-radius:18px;
      border:none;
      background:#4c1d95;
      color:#fff;
      font-size:13px;
      font-weight:600;
      cursor:pointer;
    }

    .progress-wrap{margin-top:6px;font-size:11px;color:#555;}
    .progress-bar{
      height:6px;
      border-radius:999px;
      background:#e5ddff;
      overflow:hidden;
      margin-top:4px;
    }
    .progress-fill{
      height:100%;
      width:0%;
      background:linear-gradient(90deg,#8b5cf6,#fbbf24);
      transition:width .4s;
    }

    .share-title{font-size:13px;font-weight:500;margin:14px 0 4px;}
    .share-row{
      display:flex;
      justify-content:center;
      gap:14px;
      margin:4px 0 6px;
      font-size:20px;
    }
    .share-row a{
      color:#555;
      text-decoration:none;
    }

    .mini-text{font-size:11px;color:#777;margin-top:6px;}

    .info-block{
      border-top:1px solid #eee;
      margin-top:10px;
      padding-top:8px;
      font-size:11px;
      color:#666;
      text-align:left;
    }
    .info-block strong{display:block;margin-bottom:4px;}
    .info-link{color:#4c1d95;text-decoration:none;font-weight:500;}

    footer{font-size:10px;color:#777;margin-top:10px;}
  </style>
</head>
<body>
  <div class="card">
    <!-- LOGO -->
    <img src="images/ayasofya-charity-logo.png" alt="Ayasofya Charity Logo" class="logo">

    <!-- KALP -->
    <div class="heart">ğŸ’œ</div>

    <!-- DÄ°L SEÃ‡Ä°MÄ° -->
    <div class="lang-row">
      <button class="lang-btn active" data-lang="tr">TR</button>
      <button class="lang-btn" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="ar">AR</button>
    </div>

    <!-- BAÅLIK & ALT METÄ°N -->
    <h1 id="t-title"
        data-tr="Ayasofya Charity"
        data-en="Ayasofya Charity"
        data-ar="ØµØ¯Ù‚Ø© Ø¢ÙŠØ§ ØµÙˆÙÙŠØ§">
      Ayasofya Charity
    </h1>
    <p class="subtitle" id="t-sub"
       data-tr="Ä°htiyaÃ§ sahiplerine destek â€” Pi Network Ã¼zerinden ÅŸeffaf baÄŸÄ±ÅŸ"
       data-en="Support people in need â€” transparent donations over Pi Network"
       data-ar="Ø¯Ø¹Ù… Ø§Ù„Ù…Ø­ØªØ§Ø¬ÙŠÙ† â€” ØªØ¨Ø±Ø¹Ø§Øª Ø´ÙØ§ÙØ© Ø¹Ø¨Ø± Ø´Ø¨ÙƒØ© Pi">
      Ä°htiyaÃ§ sahiplerine destek â€” Pi Network Ã¼zerinden ÅŸeffaf baÄŸÄ±ÅŸ
    </p>

    <!-- BAÄIÅ YAP -->
    <div class="section-title" id="t-donate-title"
         data-tr="BaÄŸÄ±ÅŸ Yap"
         data-en="Donate"
         data-ar="ØªØ¨Ø±Ø¹">
      BaÄŸÄ±ÅŸ Yap
    </div>

    <div class="status-row" id="status">
      <span class="icon">âœ…</span>
      <span id="t-status-text"
            data-tr="Valide baÄŸlantÄ± saÄŸlanmadÄ±. Ã–nce cÃ¼zdanÄ±nÄ±zÄ± baÄŸlayÄ±n."
            data-en="Wallet not connected. Please connect your Pi wallet first."
            data-ar="Ø§Ù„Ù…Ø­ÙØ¸Ø© ØºÙŠØ± Ù…ØªØµÙ„Ø©. Ù…Ù† ÙØ¶Ù„Ùƒ Ù‚Ù… Ø¨ØªÙˆØµÙŠÙ„ Ù…Ø­ÙØ¸Ø© Pi Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ø£ÙˆÙ„Ø§Ù‹.">
        Valide baÄŸlantÄ± saÄŸlanmadÄ±. Ã–nce cÃ¼zdanÄ±nÄ±zÄ± baÄŸlayÄ±n.
      </span>
    </div>

    <button class="donate-btn" style="margin-bottom:6px;"
            onclick="connectWallet()"
            id="t-connect-btn"
            data-tr="Pi Testnet CÃ¼zdanÄ± BaÄŸla"
            data-en="Connect Pi Testnet Wallet"
            data-ar="Ø±Ø¨Ø· Ù…Ø­ÙØ¸Ø© Pi Testnet">
      Pi Testnet CÃ¼zdanÄ± BaÄŸla
    </button>

    <div class="btn-row">
      <button class="amount-btn" onclick="selectAmount(1)">1 Pi</button>
      <button class="amount-btn" onclick="selectAmount(5)">5 Pi</button>
      <button class="amount-btn" onclick="selectAmount(10)">10 Pi</button>
      <button class="donate-btn" onclick="sendDonation()" id="t-send-btn"
              data-tr="BaÄŸÄ±ÅŸÄ± GÃ¶nder"
              data-en="Send Donation"
              data-ar="Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ¨Ø±Ø¹">
        BaÄŸÄ±ÅŸÄ± GÃ¶nder
      </button>
    </div>

    <div class="progress-wrap">
      <div id="t-progress-text"
           data-tr="Toplam: <span id='totalAmount'>0</span> / 10.000 Pi (test ortamÄ±, gerÃ§ek para iÃ§ermez)"
           data-en="Total: <span id='totalAmount'>0</span> / 10,000 Pi (test environment, no real money)"
           data-ar="Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id='totalAmount'>0</span> / 10,000 Pi (Ø¨ÙŠØ¦Ø© Ø§Ø®ØªØ¨Ø§Ø±ØŒ Ø¨Ø¯ÙˆÙ† Ù…Ø§Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ)">
        Toplam: <span id="totalAmount">0</span> / 10.000 Pi (test ortamÄ±, gerÃ§ek para iÃ§ermez)
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <!-- DESTEKLE & PAYLAÅ -->
    <div class="share-title" id="t-share-title"
         data-tr="Destekle & PaylaÅŸ"
         data-en="Support & Share"
         data-ar="Ø§Ø¯Ø¹Ù… ÙˆØ´Ø§Ø±Ùƒ">
      Destekle & PaylaÅŸ
    </div>
    <div class="share-row">
      <a href="https://www.instagram.com/uursemen08?igsh=MXZ0cWhjeXhmcjJqMw==" aria-label="Instagram">ğŸ“¸</a>
      <a href="https://x.com/uursemen2?t=ry_c0nR81aeJkyFm60pQbw&s=09" aria-label="X (Twitter)">ğ•</a>
      <a href="https://www.youtube.com/@uursemen08" aria-label="YouTube">â–¶ï¸</a>
      <a href="https://tr.ee/PVNkRfcjMc" aria-label="TikTok / kÄ±sa link">ğŸµ</a>
      <a href="https://linktr.ee/uur08" aria-label="Linktree">ğŸŒ</a>
      <a href="https://t.me/uur1453" aria-label="Telegram">@</a>
    </div>

    <!-- KISA AÃ‡IKLAMA BLOKLARI -->
    <div class="info-block">
      <strong id="t-why-title"
              data-tr="Neden Ayasofya Charity?"
              data-en="Why Ayasofya Charity?"
              data-ar="Ù„Ù…Ø§Ø°Ø§ Ayasofya CharityØŸ">
        Neden Ayasofya Charity?
      </strong>
      <span id="t-why-text"
            data-tr="AmaÃ§: Ä°htiyaÃ§ sahiplerine doÄŸrudan dijital destek; her baÄŸÄ±ÅŸ Pi blockchain Ã¼zerinde izlenebilir ve raporlanabilir."
            data-en="Goal: Direct digital support to people in need; every donation is traceable on the Pi blockchain and can be reported."
            data-ar="Ø§Ù„Ù‡Ø¯Ù: Ø¯Ø¹Ù… Ø±Ù‚Ù…ÙŠ Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ù…Ø­ØªØ§Ø¬ÙŠÙ†Ø› ÙƒÙ„ ØªØ¨Ø±Ø¹ ÙŠÙ…ÙƒÙ† ØªØªØ¨Ø¹Ù‡ Ø¹Ù„Ù‰ Ø¨Ù„ÙˆÙƒØ´ÙŠÙ† Pi ÙˆÙŠÙ…ÙƒÙ† Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù†Ù‡.">
        AmaÃ§: Ä°htiyaÃ§ sahiplerine doÄŸrudan dijital destek; her baÄŸÄ±ÅŸ Pi blockchain Ã¼zerinde izlenebilir ve raporlanabilir.
      </span>
    </div>

    <div class="info-block">
      <strong id="t-privacy-title"
              data-tr="GÃ¼venlik & Gizlilik"
              data-en="Security & Privacy"
              data-ar="Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ©">
        GÃ¼venlik & Gizlilik
      </strong>
      <span id="t-privacy-text"
            data-tr="Sadece cÃ¼zdan adresiniz kaydedilir, kiÅŸisel veriler toplanmaz. TÃ¼m iÅŸlemler Pi Testnet/Mainnet Ã¼zerinde herkese aÃ§Ä±k kayÄ±tlÄ±dÄ±r."
            data-en="Only your wallet address is stored, no personal data collected. All transactions are publicly recorded on Pi Testnet/Mainnet."
            data-ar="ÙŠØªÙ… Ø­ÙØ¸ Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ÙØ¸ØªÙƒ ÙÙ‚Ø·ØŒ ÙˆÙ„Ø§ ÙŠØªÙ… Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ø®ØµÙŠØ©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ø³Ø¬Ù„Ø© Ø¹Ù„Ù†Ù‹Ø§ Ø¹Ù„Ù‰ Pi Testnet/Mainnet.">
        Sadece cÃ¼zdan adresiniz kaydedilir, kiÅŸisel veriler toplanmaz. TÃ¼m iÅŸlemler Pi Testnet/Mainnet Ã¼zerinde herkese aÃ§Ä±k kayÄ±tlÄ±dÄ±r.
      </span>
      <br>
      <a href="#" class="info-link" id="t-privacy-link"
         data-tr="Gizlilik PolitikasÄ± & Ä°letiÅŸim"
         data-en="Privacy Policy & Contact"
         data-ar="Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„">
        Gizlilik PolitikasÄ± & Ä°letiÅŸim
      </a>
    </div>

    <footer>
      Â© 2025 Ayasofya Charity | TÃ¼m haklarÄ± saklÄ±dÄ±r
    </footer>
  </div>

  <script>
    // DÄ°L DESTEÄÄ°
    function applyLang(lang){
      document.querySelectorAll('[data-'+lang+']').forEach(function(el){
        const key = 'data-'+lang;
        if(el.getAttribute(key)){
          if(el.id === 't-progress-text'){
            el.innerHTML = el.getAttribute(key);
          }else{
            el.textContent = el.getAttribute(key);
          }
        }
      });
    }
    document.querySelectorAll('.lang-btn').forEach(function(btn){
      btn.addEventListener('click',function(){
        document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        applyLang(btn.dataset.lang);
      });
    });

    // BAÄIÅ LOJÄ°ÄÄ° (TESTNET)
    let selectedAmount = 1;
    let totalAmount = 0;
    let piAuth = null;

    function selectAmount(val){
      selectedAmount = val;
      document.querySelectorAll('.amount-btn').forEach(b=>b.classList.remove('active'));
      const idx = {1:0,5:1,10:2}[val];
      document.querySelectorAll('.amount-btn')[idx].classList.add('active');
    }

    async function connectWallet(){
      try{
        piAuth = await window.Pi.authenticate(['payments'], ()=>{});
        const status = document.getElementById('status');
        status.innerHTML = 'âœ… Valide baÄŸlantÄ± saÄŸlandÄ±! ('+piAuth.user.username+')';
      }catch(e){
        document.getElementById('status').innerHTML = 'âš ï¸ BaÄŸlantÄ± hatasÄ±: '+e.message;
      }
    }

    async function sendDonation(){
      if(!piAuth){
        alert('LÃ¼tfen Ã¶nce Pi Testnet cÃ¼zdanÄ±nÄ±zÄ± baÄŸlayÄ±n.');
        return;
      }
      try{
        await window.Pi.createPayment({
          amount:selectedAmount,
          memo:'Ayasofya Charity Test Donation',
          metadata:{project:'AyasofyaCharity',amount:selectedAmount}
        },{
          onReadyForServerApproval:id=>console.log('payment',id),
          onReadyForServerCompletion:()=>console.log('done')
        });
        totalAmount += selectedAmount;
        document.getElementById('totalAmount').textContent = totalAmount;
        const percent = Math.min(totalAmount/100,100);
        document.getElementById('progressFill').style.width = percent+'%';
        alert(selectedAmount+' Test Pi baÄŸÄ±ÅŸÄ± simÃ¼le edildi. TeÅŸekkÃ¼rler!');
      }catch(e){
        alert('BaÄŸÄ±ÅŸ hatasÄ±: '+e.message);
      }
    }

    // varsayÄ±lan seÃ§im
    selectAmount(1);
  </script>
</body>
</html>
