<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AyasofyaCharity - Pi Network Testnet</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://testnet.sdk.minepi.com/pi-sdk.js"></script>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Poppins',sans-serif; background:linear-gradient(135deg,#4b2ca0,#7a3cff); min-height:100vh; color:#333; overflow-x:hidden; }
        .hero { text-align:center; padding:20px; position:relative; }
        .logo { width:200px; height:auto; filter:drop-shadow(0 10px 20px rgba(245,194,66,0.5)); animation:float 3s ease-in-out infinite; }
        @keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }
        .filigran { position:fixed; top:10%; right:5%; opacity:0.1; font-size:100px; z-index:-1; color:#f5c242; font-weight:700; }
        h1 { font-size:2.5em; background:linear-gradient(45deg,#f5c242,#ffd700); -webkit-background-clip:text; -webkit-text-fill-color:transparent; margin:20px 0; }
        .status { background:rgba(255,255,255,0.2); backdrop-filter:blur(10px); padding:15px; border-radius:15px; margin:20px auto; max-width:400px; }
        .donate-section { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin:30px 0; }
        .amount-btn { background:linear-gradient(135deg,#f5c242,#ffd700); color:#2b1a56; border:none; padding:20px 30px; font-size:1.2em; font-weight:600; border-radius:50px; cursor:pointer; transition:all 0.3s; box-shadow:0 10px 30px rgba(245,194,66,0.4); }
        .amount-btn:hover { transform:scale(1.05); box-shadow:0 15px 40px rgba(245,194,66,0.6); }
        .progress { background:rgba(255,255,255,0.2); height:20px; border-radius:10px; margin:20px 0; overflow:hidden; }
        .progress-fill { height:100%; background:linear-gradient(90deg,#f5c242,#ffd700); transition:width 0.5s; border-radius:10px; }
        .history { background:rgba(255,255,255,0.1); backdrop-filter:blur(10px); padding:20px; border-radius:15px; margin:20px auto; max-width:500px; max-height:200px; overflow-y:auto; }
        .trans { font-size:0.9em; margin:5px 0; color:#eee; }
        .privacy { background:rgba(255,255,255,0.9); color:#333; padding:20px; border-radius:15px; margin:20px auto; max-width:600px; text-align:left; }
        .privacy h3 { color:#4b2ca0; margin-bottom:10px; }
        .connect-btn { background:linear-gradient(135deg,#4b2ca0,#7a3cff); color:white; border:none; padding:15px 40px; font-size:1.1em; border-radius:50px; cursor:pointer; margin:20px; transition:all 0.3s; }
        .connect-btn:hover { transform:scale(1.05); }
        @media (max-width:768px) { .logo { width:150px; } h1 { font-size:2em; } }
    </style>
</head>
<body>
    <div class="filigran">ðŸ•Œ</div>
    <div class="hero">
        <img src="images/ayasofya-logo.png" class="logo" alt="Ayasofya Logo" onerror="this.style.display='none';">
        <h1>AYASOFA CHARITY</h1>
        <p style="color:#f5c242; font-size:1.2em; font-weight:600;">Pi Network ile Åžeffaf BaÄŸÄ±ÅŸ Platformu</p>
        <div class="status" id="status">Valide baÄŸlantÄ± bekleniyorâ€¦</div>
        <button class="connect-btn" onclick="connectWallet()">Pi Testnet Wallet BaÄŸla</button>
    </div>
    
    <div style="text-align:center;">
        <div class="donate-section">
            <button class="amount-btn" data-amount="5" onclick="donate(5)">5 Pi</button>
            <button class="amount-btn" data-amount="10" onclick="donate(10)">10 Pi</button>
            <button class="amount-btn" data-amount="50" onclick="donate(50)">50 Pi</button>
        </div>
        <div style="max-width:400px; margin:0 auto;">
            <p><strong>Toplam BaÄŸÄ±ÅŸ: <span id="totalRaised">0</span> / 1000 Test Pi</strong></p>
            <div class="progress"><div class="progress-fill" id="progressFill" style="width:0%"></div></div>
        </div>
        <div class="history" id="historyBox">
            <div style="font-style:italic; color:#ccc;">BaÄŸÄ±ÅŸ geÃ§miÅŸi burada gÃ¶rÃ¼necek...</div>
        </div>
    </div>
    
    <div class="privacy">
        <h3>ðŸ”’ GÃ¼venlik & Gizlilik PolitikasÄ±</h3>
        <ul style="font-size:0.95em; line-height:1.6;">
            <li>TÃ¼m baÄŸÄ±ÅŸlar Pi Testnet blockchain'de ÅŸeffaf ve izlenebilir.</li>
            <li>KiÅŸisel verileriniz korunur, sadece wallet adresi kaydedilir.</li>
            <li>BaÄŸÄ±ÅŸlar Ayasofya restorasyonu iÃ§in kullanÄ±lacak. Raporlar aylÄ±k yayÄ±nlanÄ±r.</li>
            <li><a href="#" style="color:#4b2ca0;">Tam Gizlilik PolitikasÄ±</a> | <a href="#" style="color:#4b2ca0;">Ä°letiÅŸim</a></li>
        </ul>
    </div>

    <script>
        let piAuth = null; let totalRaised = 0;
        async function connectWallet() {
            try { piAuth = await window.Pi.authenticate(['payments'], onIncompletePaymentFound); 
                document.getElementById('status').innerHTML = 'âœ… Valide baÄŸlantÄ± saÄŸlandÄ±: ' + piAuth.user.username;
            } catch(e) { document.getElementById('status').innerHTML = 'BaÄŸlantÄ± baÅŸarÄ±sÄ±z: ' + e.message; }
        }
        async function donate(amount) {
            if (!piAuth) return alert('Ã–nce wallet baÄŸlayÄ±n!');
            try {
                const payment = await window.Pi.createPayment({ amount, memo: 'Ayasofya Charity', metadata: {project: 'Ayasofya'} }, {
                    onReadyForServerApproval: id => console.log('Approve:', id),
                    onReadyForServerCompletion: () => console.log('Complete')
                });
                totalRaised += amount; document.getElementById('totalRaised').textContent = totalRaised;
                document.getElementById('progressFill').style.width = Math.min((totalRaised / 1000) * 100, 100) + '%';
                document.getElementById('historyBox').innerHTML += `<div class="trans">+${amount} Test Pi (${piAuth.user.username})</div>`;
                alert(`${amount} Test Pi baÄŸÄ±ÅŸlandÄ±!`);
            } catch(e) { alert('Hata: ' + e.message); }
        }
        function onIncompletePaymentFound(incompletePayment) { /* Handle pending */ }
    </script>
</body>
</html>
