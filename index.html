<div class="wallet">
<h2 class="testnet">ğŸ§ª Test Paneli â€“ 10 Transaction Hedefi</h2>
<p id="status">Wallet: BaÄŸlÄ± deÄŸil | Test Pi: 0</p>
<button class="btn" onclick="connectWallet()">1. Wallet BaÄŸla</button>
<button class="btn" onclick="getBalance()">2. Bakiye Kontrol</button>
<button class="btn" onclick="sendTestPi()">3. Test Transfer (0.1 Pi)</button>
<div id="tx-history"></div>
</div>

<script src="https://testnet.sdk.minepi.com/pi-sdk.js"></script>
<script>
let piAuth = null;
async function connectWallet() {
  try {
    piAuth = await pi.authenticate(['username','payments'], onIncompletePaymentFound);
    document.getElementById('status').innerText = `Wallet: ${piAuth.user.username} | BaÄŸlandÄ± âœ…`;
  } catch(e) { alert('Pi Browser Testnet aÃ§!'); }
}
async function getBalance() {
  if(!piAuth) return alert('Ã–nce wallet baÄŸla!');
  const balance = await pi.getAppBalance(piAuth);
  document.getElementById('status').innerText += ` | Bakiye: ${balance.amount} Test Pi`;
}
async function sendTestPi() {
  if(!piAuth) return alert('Wallet baÄŸla!');
  const payment = await pi.createPayment({
    amount: 0.1, memo: 'Ayasofya Test Tx #' + Date.now()
  }, {amount: {currency: 'PI', value: '0.1'}});
  await pi.sendPayment(payment.id, piAuth);
  document.getElementById('tx-history').innerHTML += `<p>âœ… Tx BaÅŸarÄ±lÄ±: ${payment.id.slice(-8)}</p>`;
}
</script>
