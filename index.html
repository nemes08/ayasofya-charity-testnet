<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ayasofya Charity</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Pi Testnet SDK -->
  <script src="https://testnet.sdk.minepi.com/pi-sdk.js"></script>

  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:'Poppins',sans-serif;
      background:linear-gradient(#fff,#f6f0ff);
      color:#222;
      text-align:center;
      padding:20px 16px 40px;
    }
    .card{
      max-width:480px;
      margin:0 auto;
      background:#ffffff;
      border-radius:18px;
      box-shadow:0 6px 24px rgba(0,0,0,0.08);
      padding:20px 18px 26px;
    }
    .logo{
      width:190px;
      height:auto;
      border-radius:12px;
      margin:4px auto 10px;
      display:block;
    }
    .heart{font-size:28px;margin:6px 0 10px;color:#b83280;}
    h1{font-size:22px;margin-bottom:4px;}
    .subtitle{font-size:13px;color:#555;margin-bottom:16px;}

    .section-title{
      font-size:16px;
      font-weight:600;
      margin:18px 0 8px;
    }

    .status-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      font-size:13px;
      margin-bottom:10px;
    }
    .status-row span.icon{font-size:16px;}

    .btn-row{
      display:flex;
      gap:8px;
      justify-content:center;
      margin:8px 0 4px;
      flex-wrap:wrap;
    }
    .amount-btn{
      flex:0 0 auto;
      min-width:64px;
      padding:8px 4px;
      border-radius:18px;
      border:none;
      background:#8b5cf6;
      color:#fff;
      font-size:13px;
      font-weight:500;
      cursor:pointer;
    }
    .amount-btn.active{background:#4c1d95;}
    .donate-btn{
      flex:1;
      min-width:120px;
      padding:8px 4px;
      border-radius:18px;
      border:none;
      background:#4c1d95;
      color:#fff;
      font-size:13px;
      font-weight:600;
      cursor:pointer;
    }

    .progress-wrap{margin-top:8px;font-size:11px;color:#555;}
    .progress-bar{
      height:6px;
      border-radius:999px;
      background:#e5ddff;
      overflow:hidden;
      margin-top:4px;
    }
    .progress-fill{
      height:100%;
      width:0%;
      background:linear-gradient(90deg,#8b5cf6,#fbbf24);
      transition:width .4s;
    }

    .share-title{font-size:13px;font-weight:500;margin:16px 0 4px;}
    .share-row{
      display:flex;
      justify-content:center;
      gap:14px;
      margin:4px 0 6px;
      font-size:20px;
    }
    .share-row a{
      color:#555;
      text-decoration:none;
    }

    .mini-text{font-size:11px;color:#777;margin-top:8px;}

    .info-block{
      border-top:1px solid #eee;
      margin-top:10px;
      padding-top:8px;
      font-size:11px;
      color:#666;
      text-align:left;
    }
    .info-block strong{display:block;margin-bottom:4px;}
    .info-link{color:#4c1d95;text-decoration:none;font-weight:500;}

    footer{font-size:10px;color:#777;margin-top:10px;}
  </style>
</head>
<body>
  <div class="card">

    <img src="images/ayasofya-charity-logo.png" alt="Ayasofya Charity Logo" class="logo">

    <div class="heart">ğŸ’œ</div>

    <h1>Ayasofya Charity</h1>
    <p class="subtitle">
      Ä°htiyaÃ§ sahiplerine destek â€” Pi Network Ã¼zerinden ÅŸeffaf baÄŸÄ±ÅŸ
    </p>

    <div class="section-title">BaÄŸÄ±ÅŸ Yap</div>

    <div class="status-row" id="status">
      <span class="icon">âœ…</span>
      <span>Valide baÄŸlantÄ± saÄŸlanmadÄ±. Ã–nce cÃ¼zdanÄ±nÄ±zÄ± baÄŸlayÄ±n.</span>
    </div>

    <button class="donate-btn" style="margin-bottom:6px;" onclick="connectWallet()">
      Pi Testnet CÃ¼zdanÄ± BaÄŸla
    </button>

    <div class="btn-row">
      <button class="amount-btn" onclick="selectAmount(1)">1 Pi</button>
      <button class="amount-btn" onclick="selectAmount(5)">5 Pi</button>
      <button class="amount-btn" onclick="selectAmount(10)">10 Pi</button>
      <button class="donate-btn" onclick="sendDonation()">BaÄŸÄ±ÅŸÄ± GÃ¶nder</button>
    </div>

    <div class="progress-wrap">
      Toplam: <span id="totalAmount">0</span> / 10.000 Pi (test ortamÄ±, gerÃ§ek para iÃ§ermez)
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <div class="share-title">Destekle & PaylaÅŸ</div>
    <div class="share-row">
      <a href="https://www.instagram.com/uursemen08?igsh=MXZ0cWhjeXhmcjJqMw==" aria-label="Instagram">ğŸ“¸</a>
      <a href="https://x.com/uursemen2?t=ry_c0nR81aeJkyFm60pQbw&s=09" aria-label="X (Twitter)">ğ•</a>
      <a href="https://www.youtube.com/@uursemen08" aria-label="YouTube">â–¶ï¸</a>
      <a href="https://tr.ee/PVNkRfcjMc" aria-label="TikTok">ğŸµ</a>
      <a href="https://linktr.ee/uur08" aria-label="Linktree">ğŸŒ</a>
      <a href="https://t.me/uur1453" aria-label="Telegram">@</a>
    </div>

    <p class="mini-text">
      Test ortamÄ±ndasÄ±nÄ±z: BaÄŸÄ±ÅŸlar Test Pi ile simÃ¼le edilir, gerÃ§ek para iÃ§ermez.
    </p>

    <div class="info-block">
      <strong>Neden Ayasofya Charity?</strong>
      AmaÃ§: Ä°htiyaÃ§ sahiplerine doÄŸrudan dijital destek; her baÄŸÄ±ÅŸ Pi blockchain Ã¼zerinde izlenebilir ve raporlanabilir.
    </div>

    <div class="info-block">
      <strong>GÃ¼venlik & Gizlilik</strong>
      Sadece cÃ¼zdan adresiniz kaydedilir, kiÅŸisel veriler toplanmaz. TÃ¼m iÅŸlemler Pi Testnet/Mainnet Ã¼zerinde herkese aÃ§Ä±k kayÄ±tlÄ±dÄ±r.
      <br>
      <a href="#" class="info-link">Gizlilik PolitikasÄ± & Ä°letiÅŸim</a>
    </div>

    <footer>
      Â© 2025 Ayasofya Charity | TÃ¼m haklarÄ± saklÄ±dÄ±r
    </footer>
  </div>

  <script>
    let selectedAmount = 1;
    let totalAmount = 0;
    let piAuth = null;

    function selectAmount(val){
      selectedAmount = val;
      document.querySelectorAll('.amount-btn').forEach(b=>b.classList.remove('active'));
      const idx = {1:0,5:1,10:2}[val];
      document.querySelectorAll('.amount-btn')[idx].classList.add('active');
    }

    async function connectWallet(){
      try{
        piAuth = await window.Pi.authenticate(['payments'], ()=>{});
        document.getElementById('status').innerHTML =
          'âœ… Valide baÄŸlantÄ± saÄŸlandÄ±! ('+piAuth.user.username+')';
      }catch(e){
        document.getElementById('status').innerHTML =
          'âš ï¸ BaÄŸlantÄ± hatasÄ±: '+e.message;
      }
    }

    async function sendDonation(){
      if(!piAuth){
        alert('LÃ¼tfen Ã¶nce Pi Testnet cÃ¼zdanÄ±nÄ±zÄ± baÄŸlayÄ±n.');
        return;
      }
      try{
        await window.Pi.createPayment({
          amount:selectedAmount,
          memo:'Ayasofya Charity Test Donation',
          metadata:{project:'AyasofyaCharity',amount:selectedAmount}
        },{
          onReadyForServerApproval:id=>console.log('payment',id),
          onReadyForServerCompletion:()=>console.log('done')
        });
        totalAmount += selectedAmount;
        document.getElementById('totalAmount').textContent = totalAmount;
        const percent = Math.min(totalAmount/100,100);
        document.getElementById('progressFill').style.width = percent+'%';
        alert(selectedAmount+' Test Pi baÄŸÄ±ÅŸÄ± simÃ¼le edildi. TeÅŸekkÃ¼rler!');
      }catch(e){
        alert('BaÄŸÄ±ÅŸ hatasÄ±: '+e.message);
      }
    }

    // varsayÄ±lan seÃ§im
    selectAmount(1);
  </script>
</body>
</html>
